"""
$Id: oracle_gi_resources 1037 2013-10-13 10:20:02Z tbr $
"""

def inventory_oracle_gridinfra_resources(info):
    inventory = []
    for line in info:
        if line[0] == 'Agent-Format':
            agent_version = line[1]
        else:
            inventory.append((line[0], None))
    return inventory

# the check function (dummy)
def check_oracle_gridinfra_resources(item, params, info):
    for line in info:
        restarget = ''
        resstate = ''
        resname = ''

        if line[0] == item:
            restarget = line[2]
            resstate = line[3]
            resname = line[0]

            if restarget == resstate:
                outline = 'Resource ' + resname + ' TARGET and STATE is ' + resstate
                return (0, outline)
            else:
                outline = 'Resource ' + resname + ' TARGET=' + restarget + ' STATE=' + resstate
                return (2, outline)

    return (3, "Sorry - not implemented")

# declare the check to Check_MK
check_info["oracle_gi_resources"] = {
    'check_function':            check_oracle_gridinfra_resources,
    'inventory_function':        inventory_oracle_gridinfra_resources,
    'service_description':       'ORA-GI Res',
}
